<html ng-app="switcheroo" ng-csp>
	<head>
		<title>Switcheroo Redirector</title>
		<style>
			body{width:650px; font-family: sans-serif;}
			a, span {padding: 10px;}
			ul { list-style-type: none; padding: 0; margin: 0 0 5px 0;}
			#new-rule input[type=text], .edit-rule input[type=text]{width:220px; margin: 0 5px;}
			.from, .to { font-family: monospace; width: 220px; display: inline-block; }
			.seperator { font-weight: bold; color: red; }
			#headings span { font-family: Arial; font-weight: bold; color: #def; padding: 5px 10px;}
			#no-rules { padding: 10px; color: #666; }
			.switcheroo {color: red;}
			#removeAllRulesButton { margin: 10px; }
			#new-rule, .edit-rule { margin-left: 3px; }
			.edit-rule .seperator {padding-right: 18px;}
			#headings { background-color: #69F; border-radius: 5px 5px 0 0; }
		</style>
		<script type="text/javascript" src="lib/angular.js"></script>
		<script type="text/javascript" src="lib/underscore.js"></script>
		<script type="text/javascript" src="RulesController.js"></script>
	</head>
	<body>
		<div id="container" ng-controller="RulesController">
			<div id="headings">
				<span class="from">From</span><span class="seperator">&nbsp;</span><span class="to">To</span>
			</div>
			<p ng-if="!rules.length" id="no-rules">You have no redirect rules at the moment so why don't you go ahead and <em class="switcheroo">Switcheroo</em>.</p>
			<ul id="rules" ng-repeat="rule in rules">
				<li class="true">
					<span class="from" ng-if="!isEditing">{{rule.from}}</span>
					<input type="text" ng-if="isEditing" ng-model="rule.from" />
					<span class="seperator">&gt;</span>
					<span class="to" ng-if="!isEditing">{{rule.to}}</span>
					<input type="text" ng-if="isEditing" ng-model="rule.to" />
					<input type="checkbox" class="active" name="active" ng-model="rule.isActive" />
					<a href="#" class="editRuleButton" ng-click="enableEditing()" ng-if="!isEditing">Edit</a>
					<a href="#" class="updateRuleButton" ng-click="disableEditing()" ng-if="isEditing">Update</a>
					<a href="#" class="removeRuleButton" ng-click="remove($index)">Remove</a>
				</li>
			</ul>
			<form ng-submit="add()">
				<div id="new-rule">
					<input type="text" id="from" ng-model="from" />
					<span class="seperator">&gt;</span>
					<input type="text" id="to" ng-model="to" />
					<input id="addRuleButton" type="submit" value="Add" name="AddRule" />
				</div>
				<div>
					<input id="removeAllRulesButton" type="button" value="Remove All" name="RemoveAll" ng-click="clear()" />
				</div>
			</form>
		</div>
	</body>
</html>